<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html" charset="utf-8"/>
		<title>Marble Fall</title>
		<script src="./lib/babylon.max.js"></script>
		<script src="./lib/babylonjs.loaders.js"></script>
		<script src="../nabu/nabu.js"></script>
		<script src="../mummu/mummu.js"></script>
		<script src="./build/marble-fall.js"></script>
		<link rel="stylesheet" type="text/css" href="./styles/app.css">
		<link rel="stylesheet" type="text/css" href="./styles/machine-editor.css">
	</head>
	<body>
		<div id="toolbar" style="display: none">
			<button id="toolbar-play" class="btn s" title="Play">
				<svg class="label" viewBox="0 0 100 100">
					<path d="M30 25 L80 50 L30 80 Z" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"></path>
				</svg>
			</button>

			<button id="toolbar-pause" class="btn s" title="Pause">
				<svg class="label" viewBox="0 0 100 100">
					<path d="M25 25 L32 25 L32 75 L25 75 Z" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"></path>
					<path d="M68 25 L75 25 L75 75 L68 75 Z" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"></path>
				</svg>
			</button>

			<button id="toolbar-stop" class="btn s" title="Stop and reset">
				<svg class="label" viewBox="0 0 100 100">
					<path d="M25 25 L75 25 L75 75 L25 75 Z" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"></path>
				</svg>
			</button>

			<button id="toolbar-time-factor" class="btn m" title="Time factor">
				<svg class="label" viewBox="0 0 100 100">
					<path d="M80 85 L20 85 A40 40 0 1 1 80 85 Z" fill="none" stroke-width="12" stroke-linecap="round" stroke-linejoin="round"></path>
					<path d="M45 55 L50 6 L55 55 L50 60 Z" transform="rotate(30 50 55)" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"></path>
				</svg>
				<span class="value">42.5</span>
			</button>
			<div class="dropdown">
				<input id="time-factor-value" type="range" orient="vertical" min="0" max="1" step ="0.01"/>	
			</div>

			<button id="toolbar-save" class="btn s" title="Save">
				<svg class="label" viewBox="0 0 100 100">
					<path d="M15 84 L85 84 L85 90 L15 90 Z" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"></path>
					<path d="M50 5 L50 55" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"></path>
					<path d="M35 40 L50 60 L65 40 Z" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"></path>
				</svg>
			</button>

			<button id="toolbar-load" class="btn s" title="Load">
				<svg class="label" viewBox="0 0 100 100">
					<path d="M15 84 L85 84 L85 90 L15 90 Z" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"></path>
					<path d="M50 10 L50 60" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"></path>
					<path d="M35 25 L50 5 L65 25 Z" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"></path>
				</svg>
			</button>
			<div class="dropdown">
				<input id="load-input" type="file"/>	
			</div>

			<button id="toolbar-sound" class="btn s" title="Volume">
				<svg class="label" viewBox="0 0 100 100">
					<path d="M10 40 L30 40 L50 20 L50 80 L30 60 L10 60 Z" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"></path>
					<path d="M75 25 A40 40 0 0 1 75 75" fill="none" stroke-width="12" stroke-linecap="round" stroke-linejoin="round"></path>
				</svg>
			</button>
			<div class="dropdown">
				<input id="sound-value" type="range" orient="vertical" min="0" max="1" step ="0.01"/>	
			</div>

			<button id="toolbar-zoom" class="btn s" title="Zoom">
				<svg class="label" viewBox="0 0 100 100">
					<circle cx="65" cy="35" r="25" fill="none" stroke-width="12" stroke-linecap="round" stroke-linejoin="round"></circle>
					<path d="M15 85 L45 55" fill="none" stroke-width="12" stroke-linecap="round" stroke-linejoin="round"></path>
				</svg>
			</button>
			<div class="dropdown">
				<input id="zoom-value" type="range" orient="vertical" min="0" max="1" step ="0.001"/>	
			</div>

			<button id="toolbar-back" class="btn s"  title="Back to main menu">
				<svg class="label" viewBox="0 0 100 100">
					<path d="M5 45 L25 30 L25 60 Z" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"></path>
					<path d="M10 45 L80 45 L80 75" fill="none" stroke-width="14" stroke-linecap="round" stroke-linejoin="round"></path>
				</svg>
			</button>
		</div>
		<img id="blackboard-tex" src="./datas/textures/blackboard.png" style="display: none;"></img>
		<div id="track-editor-menu" class="menu" style="display: none;">
			<div class="line">
				<span class="title t1">Track Editor</span>
			</div>
			<div class="line paginated-title">
				<button id="prev-track" class="btn-xs">&lt;</button>
				<span class="title t2">Track N</span>
				<button id="next-track" class="btn-xs">&gt;</button>
			</div>
			<div class="line">
				<span class="label">Camera</span>
				<button class="btn-xs spacer">&nbsp;</button>
				<button id="btn-cam-top" class="btn-xs">T</button>
				<button class="btn-xs spacer">&nbsp;</button>
			</div>
			<div class="line">
				<span class="label"></span>
				<button id="btn-cam-left" class="btn-xs">L</button>
				<button id="btn-cam-face" class="btn-xs">F</button>
				<button id="btn-cam-right" class="btn-xs">R</button>
			</div>
			<div class="line">
				<span class="label"></span>
				<button class="btn-xs spacer">&nbsp;</button>
				<button id="btn-cam-bottom" class="btn-xs">B</button>
				<button class="btn-xs spacer">&nbsp;</button>
			</div>
			<div class="line-flex">
				<span class="label">Cam Mode</span>
				<button id="btn-cam-ortho" class="btn-m">Orthographic</button>
				<button id="btn-cam-perspective" class="btn-m">Perspective</button>
			</div>
			<div class="line-flex">
				<span class="label">Cam Focus</span>
				<button id="btn-focus-point" class="btn-m">TrackPoint</button>
				<button id="btn-center-track" class="btn-m">Center</button>
			</div>
			<div class="line-flex">
				<span class="label">Display Mode</span>
				<button id="btn-display-wire" class="btn-m">Wire</button>
				<button id="btn-display-path" class="btn-m">Path</button>
			</div>
			<div class="line">
				<span class="label">Helper</span>
				<span class="label-s">circle</span>
				<button id="btn-show-helper-circle" class="btn-s">Show</button>
				<span class="label-s">radius</span>
				<input-number id="helper-circle-radius" decimals="0" step="1"></input-number>
			</div>
			<div class="line">
				<span class="label"></span>
				<span class="label-s">grid</span>
				<button id="btn-show-helper-grid" class="btn-s">Show</button>
				<span class="label-s">size</span>
				<input-number id="helper-grid-size" decimals="0" step="1"></input-number>
			</div>
			<div class="line-flex">
				<button id="load" class="btn-m">Load</button>
				<button id="save" class="btn-m">Save</button>
			</div>
			
			<div class="separator"></div>

			<div class="line paginated-title">
				<button id="prev-trackpoint" class="btn-xs">&lt;</button>
				<span class="title t2">TrackPoint N</span>
				<button id="next-trackpoint" class="btn-xs">&gt;</button>
			</div>
			<div class="line">
				<span class="label">Position</span>
				<input-vec3 id="active-trackpoint-pos"></input-vec3>
			</div>
			<div class="line">
				<span class="label">Normal</span>
				<input-vec3 id="active-trackpoint-normal"></input-vec3>
			</div>
			<div class="line">
				<span class="label">Tangent</span>
				<span class="label-s">in</span>
				<input-number id="active-trackpoint-tan-in"></input-number>
				<span class="label-s">out</span>
				<input-number id="active-trackpoint-tan-out"></input-number>
			</div>
			<div class="line">
				<span class="label">Slope</span>
				<span class="label-s">prev</span>
				<span id="slope-prev" class="number-val">0</span>
				<span class="label-s">curr</span>
				<span id="slope-curr" class="number-val">0</span>
				<span class="label-s">next</span>
				<span id="slope-next" class="number-val">0</span>
			</div>
			<div class="line">
				<span class="label"></span>
				<span class="label-s">global</span>
				<span id="slope-global" class="number-val">0</span>
			</div>
			<div class="line">
				<span class="label">Bank</span>
				<span id="active-trackpoint-bank" class="number-val">0</span>
			</div>
			<div class="line-flex">
				<button id="active-trackpoint-split" class="btn-l">Split</button>
				<button id="active-trackpoint-delete" class="btn-l">Delete</button>
			</div>
		</div>
		<div id="machine-menu" class="menu">
			<div id="machine-editor-objects" style="display:none">
				<div id="machine-editor-item-container">
				</div>
			</div>
		</div>
        <canvas id="render-canvas" class="full-screen"></canvas>
	</body>
</html>
